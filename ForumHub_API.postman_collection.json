{
	"info": {
		"_postman_id": "forumhub-api-collection",
		"name": "F칩rumHub API",
		"description": "Cole칞칚o da API REST do F칩rumHub com autentica칞칚o JWT\n\nEndpoints essenciais para autentica칞칚o e gest칚o de t칩picos.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "forumhub-api"
	},
	"item": [
		{
			"name": "游댏 Autentica칞칚o",
			"description": "Endpoints para autentica칞칚o e gerenciamento de usu치rios",
			"item": [
				{
					"name": "Cadastrar Usu치rio",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"nome\": \"Jo칚o Silva\",\n    \"email\": \"joao@email.com\",\n    \"senha\": \"123456\",\n    \"tipoPerfil\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/cadastro",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"cadastro"
							]
						},
						"description": "Cadastra um novo usu치rio no sistema\n- tipoPerfil: 1 = USUARIO, 2 = ADMIN"
					},
					"response": []
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"joao@email.com\",\n    \"senha\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login para obter token JWT (use o email e senha do usu치rio cadastrado)"
					},
					"response": []
				}
			]
		},
		{
			"name": "游닇 T칩picos",
			"description": "Endpoints para gest칚o completa de t칩picos",
			"item": [
				{
					"name": "Listar Todos os T칩picos",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/topicos",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"topicos"
							]
						},
						"description": "Lista todos os t칩picos do f칩rum (ENDPOINT P칔BLICO)"
					},
					"response": []
				},
				{
					"name": "Buscar T칩pico por ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/topicos/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"topicos",
								"1"
							]
						},
						"description": "Busca um t칩pico espec칤fico pelo ID (ENDPOINT P칔BLICO)"
					},
					"response": []
				},
				{
					"name": "Criar T칩pico",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"description": "Token JWT obtido no login"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"titulo\": \"D칰vida sobre Spring Boot\",\n    \"mensagem\": \"Como configurar o Spring Security corretamente?\",\n    \"cursoId\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/topicos",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"topicos"
							]
						},
						"description": "Cria um novo t칩pico no f칩rum (REQUER AUTENTICA칂츾O)\n- O usu치rio logado ser치 automaticamente o autor"
					},
					"response": []
				},
				{
					"name": "Atualizar T칩pico",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"description": "Token JWT obtido no login"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"titulo\": \"D칰vida sobre Spring Boot - Atualizado\",\n    \"mensagem\": \"Como configurar o Spring Security corretamente? (Vers칚o atualizada)\",\n    \"cursoId\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/topicos/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"topicos",
								"1"
							]
						},
						"description": "Atualiza um t칩pico existente (REQUER AUTENTICA칂츾O)\n- Apenas o autor ou admin pode atualizar"
					},
					"response": []
				},
				{
					"name": "Deletar T칩pico",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"description": "Token JWT obtido no login"
							}
						],
						"url": {
							"raw": "{{base_url}}/topicos/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"topicos",
								"1"
							]
						},
						"description": "Remove um t칩pico do sistema (REQUER AUTENTICA칂츾O)\n- Apenas o autor ou admin pode deletar"
					},
					"response": []
				}
			]
		},
		{
			"name": "游빍 Testes de Seguran칞a",
			"description": "Testes para validar a seguran칞a da API",
			"item": [
				{
					"name": "Teste - Criar T칩pico sem Autentica칞칚o",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"titulo\": \"T칩pico sem autentica칞칚o\",\n    \"mensagem\": \"Este t칩pico n칚o deve ser criado\",\n    \"cursoId\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/topicos",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"topicos"
							]
						},
						"description": "Testa se a API bloqueia cria칞칚o de t칩picos sem autentica칞칚o (deve retornar 401)"
					},
					"response": []
				},
				{
					"name": "Teste - Atualizar T칩pico sem Autentica칞칚o",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"titulo\": \"T칩pico atualizado sem auth\",\n    \"mensagem\": \"Esta atualiza칞칚o n칚o deve funcionar\",\n    \"cursoId\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/topicos/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"topicos",
								"1"
							]
						},
						"description": "Testa se a API bloqueia atualiza칞칚o de t칩picos sem autentica칞칚o (deve retornar 401)"
					},
					"response": []
				},
				{
					"name": "Teste - Deletar T칩pico sem Autentica칞칚o",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/topicos/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"topicos",
								"1"
							]
						},
						"description": "Testa se a API bloqueia dele칞칚o de t칩picos sem autentica칞칚o (deve retornar 401)"
					},
					"response": []
				},
				{
					"name": "Teste - Cadastrar Usu치rio Admin",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"nome\": \"Teste Admin\",\n    \"email\": \"teste.admin@email.com\",\n    \"senha\": \"123456\",\n    \"tipoPerfil\": 2\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/cadastro",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"cadastro"
							]
						},
						"description": "Testa cadastro de usu치rio com perfil ADMIN (deve retornar 200 com perfil ADMIN)"
					},
					"response": []
				},
				{
					"name": "Teste - Cadastrar Usu치rio Comum",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"nome\": \"Teste Usuario\",\n    \"email\": \"teste.usuario@email.com\",\n    \"senha\": \"123456\",\n    \"tipoPerfil\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/cadastro",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"cadastro"
							]
						},
						"description": "Testa cadastro de usu치rio com perfil USUARIO (deve retornar 200 com perfil USUARIO)"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Captura automaticamente o token JWT das respostas de login",
					"if (pm.response.code === 200) {",
					"    const responseJson = pm.response.json();",
					"    if (responseJson.token) {",
					"        pm.collectionVariables.set('auth_token', responseJson.token);",
					"        console.log('Token JWT capturado automaticamente!');",
					"    }",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string",
			"description": "URL base da API F칩rumHub"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string",
			"description": "Token JWT obtido ap칩s fazer login (ser치 preenchido automaticamente)"
		}
	]
}
